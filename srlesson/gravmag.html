<!DOCTYPE html>
<html>
<head>


	
	<style>
		html, body {
  height: 100%;            /* Make the body take up the full height of the viewport */
  margin: 0;               /* Remove default margin on body */
         /* Set flexbox layout on the body */
  justify-content: center; /* Center horizontally */
 
}
		
		/* Style for the main text */

		.main-text {
		  font-family: 'Palatino', serif; /* Palatino font */
		  font-size: 1.2em;
		  text-align: center;
		  justify-content: center;
        align-items: center;
		width: 80%;
		  margin-left: 10%;  /* Half the size of the applet*/
		  margin-right: 10%; /* Half the size of the applet*/
		  margin-top: 2rem;   /* Adds more space between the applet and the text */
		}
		
		/* Optional: Style for the container of the applet and the text */
		#anim {
		width: 80%;
		aspect-ratio: 1 / 1;
		margin-left: 10%;
		margin-right: 10%;
		margin-top: 2rem; /* Applet margin */
		}
	  </style>
<center>Written by <a href="https://zhall914.github.io/personal-website" target="_blank"> Zachary Hall</a></center>
</head>
<body>





<div id = "anim" ></div>

<div class="main-text"> 
	<p>	This is an animation of the frame-dragging effect.</p>
	</div>
<script type = "module">
	       import * as THREE from 'https://esm.sh/three';
            import { OrbitControls } from 'https://esm.sh/three/examples/jsm/controls/OrbitControls.js';

	window.onload = function() {
		




    var w0 = 0.02;
    var fra = 0.1;
    var fra2 = 0.3;

   

    var angle1;
   
	var axis = new THREE.Vector3(0,0.4714,0.3333);





    angle1 = 0;
   let  scene = new THREE.Scene();

   
	var container = document.getElementById( 'anim' );
              
	let camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 1, 10000);
    camera.position.z = fra * 550;

    let renderer = new THREE.WebGLRenderer();
    renderer.setSize(container.clientWidth, container.clientHeight);
	container.appendChild(renderer.domElement);
    let controls = new OrbitControls(camera, renderer.domElement);
    controls.addEventListener('change', render);

    controls.enableDamping = true;
    controls.screenSpacePanning = false;
    controls.enableZoom = true;
    controls.enablePan = true;
    controls.dampingFactor = 0.15;
    controls.zoomSpeed = 0.8;
    controls.rotateSpeed = 0.6;
    controls.panSpeed = 0.8;
	window.addEventListener('resize', onWindowResize, false);

	let Earth = new THREE.SphereGeometry( fra*200, fra*200, fra*200 );
let Earth2 = new THREE.SphereGeometry( fra*200, fra*200, fra*200 );
let loader = new THREE.TextureLoader();


   let material = new THREE.MeshBasicMaterial( {color: 0x5bad49} );
material.wireframe = true;
let material2 = new THREE.MeshBasicMaterial({color: 0xd4d4dff});
material2.transparent = true;
material2.opacity = 0.5;


 let mesh = new THREE.Mesh( Earth, material );
let mesh2 = new THREE.Mesh( Earth2, material2 ); 
 scene.add( mesh );
scene.add ( mesh2 );



let r1g = new THREE.BoxGeometry(fra*2,fra*2,fra*10);
let r3g = new THREE.BoxGeometry(fra*2,fra*10,fra*2);


let rcol = new THREE.MeshBasicMaterial( {color: 0xff0000} );
let r1 = new THREE.Mesh(r1g,rcol);
r1.position.x = fra*250;
scene.add(r1);


let	r2 = new THREE.Mesh(r1g,rcol);
r2.position.x = fra*300;
scene.add(r2);


let r3 = new THREE.Mesh(r1g,rcol);
r3.position.x = fra*350;
scene.add(r3);


let	r4 = new THREE.Mesh(r1g,rcol);
r4.position.x = fra*400;
scene.add(r4);

let r5 = new THREE.Mesh(r1g,rcol);
r5.position.y = fra*250;
scene.add(r5);

let r6 = new THREE.Mesh(r1g,rcol);
r6.position.y = fra*300;
scene.add(r6);

let r7 = new THREE.Mesh(r1g,rcol);
r7.position.y = fra*350;
scene.add(r7);


let r8 = new THREE.Mesh(r1g,rcol);
r8.position.y = fra*400;
scene.add(r8);

let r9 = new THREE.Mesh(r1g,rcol);
r9.position.y = -fra*250;
scene.add(r9);

let r10 = new THREE.Mesh(r1g,rcol);
r10.position.y = -fra*300;
scene.add(r10);

let r11 = new THREE.Mesh(r1g,rcol);
r11.position.y = -fra*350;
scene.add(r11);


let r12 = new THREE.Mesh(r1g,rcol);
r12.position.y = -fra*400;
scene.add(r12);


let r13 = new THREE.Mesh(r3g,rcol);
r13.position.x = fra*144.33;
r13.position.y = fra*204.12;
scene.add(r13);

let r14 = new THREE.Mesh(r3g,rcol);
r14.position.x = fra*144.33*300/250;
r14.position.y = fra*204.12*300/250;
scene.add(r14);

let r15 = new THREE.Mesh(r3g,rcol);
r15.position.x = fra*144.33*350/250;
r15.position.y = fra*204.12*350/250;
scene.add(r15);

let r16 = new THREE.Mesh(r3g,rcol);
r16.position.x = fra*144.33*400/250;
r16.position.y = fra*204.12*400/250;
scene.add(r16);

let r17 = new THREE.Mesh(r3g,rcol);
r17.position.x = fra*144.33;
r17.position.y = -fra*204.12;
scene.add(r17);

let r18 = new THREE.Mesh(r3g,rcol);
r18.position.x = fra*144.33*300/250;
r18.position.y = -fra*204.12*300/250;
scene.add(r18);

let r19 = new THREE.Mesh(r3g,rcol);
r19.position.x = fra*144.33*350/250;
r19.position.y = -fra*204.12*350/250;
scene.add(r19);

let r20 = new THREE.Mesh(r3g,rcol);
r20.position.x = fra*144.33*400/250;
r20.position.y = -fra*204.12*400/250;
scene.add(r20);


let r21 = new THREE.Mesh(r3g,rcol);
r21.position.x = -fra*144.33;
r21.position.y = -fra*204.12;
scene.add(r21);

let r22 = new THREE.Mesh(r3g,rcol);
r22.position.x = -fra*144.33*300/250;
r22.position.y = -fra*204.12*300/250;
scene.add(r22);

let r23 = new THREE.Mesh(r3g,rcol);
r23.position.x = -fra*144.33*350/250;
r23.position.y = -fra*204.12*350/250;
scene.add(r23);

let r24 = new THREE.Mesh(r3g,rcol);
r24.position.x = -fra*144.33*400/250;
r24.position.y = -fra*204.12*400/250;
scene.add(r24);

let r25 = new THREE.Mesh(r3g,rcol);
r25.position.x = -fra*144.33;
r25.position.y = fra*204.12;
scene.add(r25);

let r26 = new THREE.Mesh(r3g,rcol);
r26.position.x = -fra*144.33*300/250;
r26.position.y = fra*204.12*300/250;
scene.add(r26);

let r27 = new THREE.Mesh(r3g,rcol);
r27.position.x = -fra*144.33*350/250;
r27.position.y = fra*204.12*350/250;
scene.add(r27);

let r28 = new THREE.Mesh(r3g,rcol);
r28.position.x = -fra*144.33*400/250;
r28.position.y = fra*204.12*400/250;
scene.add(r28);

let r29 = new THREE.Mesh(r1g,rcol);
r29.position.x = -fra*250;
scene.add(r29);


let r30 = new THREE.Mesh(r1g,rcol);
r30.position.x = -fra*300;
scene.add(r30);


let r31 = new THREE.Mesh(r1g,rcol);
r31.position.x = -fra*350;
scene.add(r31);


let r32 = new THREE.Mesh(r1g,rcol);
r32.position.x = -fra*400;
scene.add(r32);


let r2g = new THREE.BoxGeometry(fra*10,fra*2,fra*2);

let r33 = new THREE.Mesh(r2g,rcol);

r33.position.x = fra*83.333;
r33.position.y = fra*235.7;
rotateAroundObjectAxis(r33,new THREE.Vector3(0,0,1),-0.9533);


scene.add(r33);

let r34 = new THREE.Mesh(r2g,rcol);

r34.position.x = fra*83.333*300/250;
r34.position.y = fra*235.7*300/250;
rotateAroundObjectAxis(r34,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r34);

let r35 = new THREE.Mesh(r2g,rcol);

r35.position.x = fra*83.333*350/250;
r35.position.y = fra*235.7*350/250;
rotateAroundObjectAxis(r35,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r35);

let r36 = new THREE.Mesh(r2g,rcol);

r36.position.x = fra*83.333*400/250;
r36.position.y = fra*235.7*400/250;
rotateAroundObjectAxis(r36,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r36);

let r37 = new THREE.Mesh(r2g,rcol);

r37.position.x = -fra*83.333;
r37.position.y = fra*235.7;
rotateAroundObjectAxis(r37,new THREE.Vector3(0,0,1),0.9533);


scene.add(r37);

let r38 = new THREE.Mesh(r2g,rcol);

r38.position.x = -fra*83.333*300/250;
r38.position.y = fra*235.7*300/250;
rotateAroundObjectAxis(r38,new THREE.Vector3(0,0,1),0.9533);

scene.add(r38);

let r39 = new THREE.Mesh(r2g,rcol);

r39.position.x = -fra*83.333*350/250;
r39.position.y = fra*235.7*350/250;
rotateAroundObjectAxis(r39,new THREE.Vector3(0,0,1),0.9533);

scene.add(r39);

let r40 = new THREE.Mesh(r2g,rcol);

r40.position.x = -fra*83.333*400/250;
r40.position.y = fra*235.7*400/250;
rotateAroundObjectAxis(r40,new THREE.Vector3(0,0,1),0.9533);

scene.add(r40);

let r41 = new THREE.Mesh(r2g,rcol);

r41.position.x = -fra*83.333;
r41.position.y = -fra*235.7;
rotateAroundObjectAxis(r41,new THREE.Vector3(0,0,1),-0.9533);


scene.add(r41);

let r42 = new THREE.Mesh(r2g,rcol);

r42.position.x = -fra*83.333*300/250;
r42.position.y = -fra*235.7*300/250;
rotateAroundObjectAxis(r42,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r42);

let r43 = new THREE.Mesh(r2g,rcol);

r43.position.x = -fra*83.333*350/250;
r43.position.y = -fra*235.7*350/250;
rotateAroundObjectAxis(r43,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r43);

let r44 = new THREE.Mesh(r2g,rcol);

r44.position.x = -fra*83.333*400/250;
r44.position.y = -fra*235.7*400/250;
rotateAroundObjectAxis(r44,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r44);

let r45 = new THREE.Mesh(r2g,rcol);

r45.position.x = fra*83.333;
r45.position.y = -fra*235.7;
rotateAroundObjectAxis(r45,new THREE.Vector3(0,0,1),0.9533);


scene.add(r45);

let r46 = new THREE.Mesh(r2g,rcol);

r46.position.x = fra*83.333*300/250;
r46.position.y = -fra*235.7*300/250;
rotateAroundObjectAxis(r46,new THREE.Vector3(0,0,1),0.9533);

scene.add(r46);

let r47 = new THREE.Mesh(r2g,rcol);

r47.position.x = fra*83.333*350/250;
r47.position.y = -fra*235.7*350/250;
rotateAroundObjectAxis(r47,new THREE.Vector3(0,0,1),0.9533);

scene.add(r47);

let r48 = new THREE.Mesh(r2g,rcol);

r48.position.x = fra*83.333*400/250;
r48.position.y = -fra*235.7*400/250;
rotateAroundObjectAxis(r48,new THREE.Vector3(0,0,1),0.9533);

scene.add(r48);



let r49 = new THREE.Mesh(r2g,rcol);

r49.position.x = fra*204.12;
r49.position.y = fra*144.34;
rotateAroundObjectAxis(r49,new THREE.Vector3(0,0,1),0.9533);


scene.add(r49);

let r50 = new THREE.Mesh(r2g,rcol);

r50.position.x = fra*204.12*300/250;
r50.position.y = fra*144.34*300/250;
rotateAroundObjectAxis(r50,new THREE.Vector3(0,0,1),0.9533);

scene.add(r50);

let r51 = new THREE.Mesh(r2g,rcol);

r51.position.x = fra*204.12*350/250;
r51.position.y = fra*144.34*350/250;
rotateAroundObjectAxis(r51,new THREE.Vector3(0,0,1),0.9533);

scene.add(r51);

let r52 = new THREE.Mesh(r2g,rcol);

r52.position.x = fra*204.12*400/250;
r52.position.y = fra*144.34*400/250;
rotateAroundObjectAxis(r52,new THREE.Vector3(0,0,1),0.9533);

scene.add(r52);


let r53 = new THREE.Mesh(r2g,rcol);

r53.position.x = -fra*204.12;
r53.position.y = fra*144.34;
rotateAroundObjectAxis(r53,new THREE.Vector3(0,0,1),-0.9533);


scene.add(r53);

let r54 = new THREE.Mesh(r2g,rcol);

r54.position.x = -fra*204.12*300/250;
r54.position.y = fra*144.34*300/250;
rotateAroundObjectAxis(r54,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r54);

let r55 = new THREE.Mesh(r2g,rcol);

r55.position.x = -fra*204.12*350/250;
r55.position.y = fra*144.34*350/250;
rotateAroundObjectAxis(r55,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r55);

let r56 = new THREE.Mesh(r2g,rcol);

r56.position.x = -fra*204.12*400/250;
r56.position.y = fra*144.34*400/250;
rotateAroundObjectAxis(r56,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r56);

let r57 = new THREE.Mesh(r2g,rcol);

r57.position.x = -fra*204.12;
r57.position.y = -fra*144.34;
rotateAroundObjectAxis(r57,new THREE.Vector3(0,0,1),0.9533);


scene.add(r57);

let r58 = new THREE.Mesh(r2g,rcol);

r58.position.x = -fra*204.12*300/250;
r58.position.y = -fra*144.34*300/250;
rotateAroundObjectAxis(r58,new THREE.Vector3(0,0,1),0.9533);

scene.add(r58);

let r59 = new THREE.Mesh(r2g,rcol);

r59.position.x = -fra*204.12*350/250;
r59.position.y = -fra*144.34*350/250;
rotateAroundObjectAxis(r59,new THREE.Vector3(0,0,1),0.9533);

scene.add(r59);

let r60 = new THREE.Mesh(r2g,rcol);

r60.position.x = -fra*204.12*400/250;
r60.position.y = -fra*144.34*400/250;
rotateAroundObjectAxis(r60,new THREE.Vector3(0,0,1),0.9533);

scene.add(r60);


let r61 = new THREE.Mesh(r2g,rcol);

r61.position.x = fra*204.12;
r61.position.y = -fra*144.34;
rotateAroundObjectAxis(r61,new THREE.Vector3(0,0,1),-0.9533);


scene.add(r61);

let r62 = new THREE.Mesh(r2g,rcol);

r62.position.x = fra*204.12*300/250;
r62.position.y = -fra*144.34*300/250;
rotateAroundObjectAxis(r62,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r62);

let r63 = new THREE.Mesh(r2g,rcol);

r63.position.x = fra*204.12*350/250;
r63.position.y = -fra*144.34*350/250;
rotateAroundObjectAxis(r63,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r63);

let r64 = new THREE.Mesh(r2g,rcol);

r64.position.x = fra*204.12*400/250;
r64.position.y = -fra*144.34*400/250;
rotateAroundObjectAxis(r64,new THREE.Vector3(0,0,1),-0.9533);

scene.add(r64);


let r65 = new THREE.Mesh(r1g,rcol);
r65.position.x = fra*250;
rotateAroundWorldAxis(r65,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r65,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r65);


let r66 = new THREE.Mesh(r1g,rcol);
r66.position.x = fra*300;
rotateAroundWorldAxis(r66,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r66,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r66);


let r67 = new THREE.Mesh(r1g,rcol);
r67.position.x = fra*350;
rotateAroundWorldAxis(r67,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r67,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r67);


let r68 = new THREE.Mesh(r1g,rcol);
r68.position.x = fra*400;
rotateAroundWorldAxis(r68,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r68,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r68);

let r69 = new THREE.Mesh(r1g,rcol);
r69.position.x = fra*250;
rotateAroundWorldAxis(r69,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r69,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r69);


let r70 = new THREE.Mesh(r1g,rcol);
r70.position.x = fra*300;
rotateAroundWorldAxis(r70,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r70,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r70);


let r71 = new THREE.Mesh(r1g,rcol);
r71.position.x = fra*350;
rotateAroundWorldAxis(r71,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r71,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r71);


let r72 = new THREE.Mesh(r1g,rcol);
r72.position.x = fra*400;
rotateAroundWorldAxis(r72,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r72,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r72);


let r73 = new THREE.Mesh(r1g,rcol);
r73.position.x = fra*250;
rotateAroundWorldAxis(r73,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r73,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r73);


let r74 = new THREE.Mesh(r1g,rcol);
r74.position.x = fra*300;
rotateAroundWorldAxis(r74,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r74,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r74);


let r75 = new THREE.Mesh(r1g,rcol);
r75.position.x = fra*350;
rotateAroundWorldAxis(r75,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r75,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r75);


let r76 = new THREE.Mesh(r1g,rcol);
r76.position.x = fra*400;
rotateAroundWorldAxis(r76,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r76,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r76);

let r77 = new THREE.Mesh(r1g,rcol);
r77.position.x = fra*250;
rotateAroundWorldAxis(r77,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r77,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r77);


let r78 = new THREE.Mesh(r1g,rcol);
r78.position.x = fra*300;
rotateAroundWorldAxis(r78,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r78,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r78);


let r79 = new THREE.Mesh(r1g,rcol);
r79.position.x = fra*350;
rotateAroundWorldAxis(r79,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r79,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r79);


let r80 = new THREE.Mesh(r1g,rcol);
r80.position.x = fra*400;
rotateAroundWorldAxis(r80,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r80,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r80);

let r81 = new THREE.Mesh(r1g,rcol);
r81.position.x = fra*250;
rotateAroundWorldAxis(r81,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r81,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r81);


let r82 = new THREE.Mesh(r1g,rcol);
r82.position.x = fra*300;
rotateAroundWorldAxis(r82,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r82,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r82);


let r83 = new THREE.Mesh(r1g,rcol);
r83.position.x = fra*350;
rotateAroundWorldAxis(r83,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r83,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r83);


let r84 = new THREE.Mesh(r1g,rcol);
r84.position.x = fra*400;
rotateAroundWorldAxis(r84,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r84,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r84);


let r85 = new THREE.Mesh(r1g,rcol);
r85.position.x = -fra*250;
rotateAroundWorldAxis(r85,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r85,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r85);


let r86 = new THREE.Mesh(r1g,rcol);
r86.position.x = -fra*300;
rotateAroundWorldAxis(r86,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r86,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r86);


let r87 = new THREE.Mesh(r1g,rcol);
r87.position.x = -fra*350;
rotateAroundWorldAxis(r87,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r87,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r87);


let r88 = new THREE.Mesh(r1g,rcol);
r88.position.x = -fra*400;
rotateAroundWorldAxis(r88,new THREE.Vector3(0,1,0), Math.PI/6);
rotateAroundObjectAxis(r88,new THREE.Vector3(0,1,0), Math.PI/6);
scene.add(r88);

let r89 = new THREE.Mesh(r1g,rcol);
r89.position.x = -fra*250;
rotateAroundWorldAxis(r89,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r89,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r89);


let r90 = new THREE.Mesh(r1g,rcol);
r90.position.x = -fra*300;
rotateAroundWorldAxis(r90,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r90,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r90);


let r91 = new THREE.Mesh(r1g,rcol);
r91.position.x = -fra*350;
rotateAroundWorldAxis(r91,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r91,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r91);


let r92 = new THREE.Mesh(r1g,rcol);
r92.position.x = -fra*400;
rotateAroundWorldAxis(r92,new THREE.Vector3(0,1,0), Math.PI/3);
rotateAroundObjectAxis(r92,new THREE.Vector3(0,1,0), Math.PI/3);
scene.add(r92);


let r93 = new THREE.Mesh(r1g,rcol);
r93.position.x = -fra*250;
rotateAroundWorldAxis(r93,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r93,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r93);


let r94 = new THREE.Mesh(r1g,rcol);
r94.position.x = -fra*300;
rotateAroundWorldAxis(r94,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r94,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r94);


let r95 = new THREE.Mesh(r1g,rcol);
r95.position.x = -fra*350;
rotateAroundWorldAxis(r95,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r95,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r95);


let r96 = new THREE.Mesh(r1g,rcol);
r96.position.x = -fra*400;
rotateAroundWorldAxis(r96,new THREE.Vector3(0,1,0), Math.PI/2);
rotateAroundObjectAxis(r96,new THREE.Vector3(0,1,0), Math.PI/2);
scene.add(r96);

let r97 = new THREE.Mesh(r1g,rcol);
r97.position.x = -fra*250;
rotateAroundWorldAxis(r97,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r97,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r97);


let r98 = new THREE.Mesh(r1g,rcol);
r98.position.x = -fra*300;
rotateAroundWorldAxis(r98,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r98,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r98);


let r99 = new THREE.Mesh(r1g,rcol);
r99.position.x = -fra*350;
rotateAroundWorldAxis(r99,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r99,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r99);


let r100 = new THREE.Mesh(r1g,rcol);
r100.position.x = -fra*400;
rotateAroundWorldAxis(r100,new THREE.Vector3(0,1,0), 2*Math.PI/3);
rotateAroundObjectAxis(r100,new THREE.Vector3(0,1,0), 2*Math.PI/3);
scene.add(r100);

let r101 = new THREE.Mesh(r1g,rcol);
r101.position.x = -fra*250;
rotateAroundWorldAxis(r101,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r101,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r101);


let r102 = new THREE.Mesh(r1g,rcol);
r102.position.x = -fra*300;
rotateAroundWorldAxis(r102,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r102,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r102);


let r103 = new THREE.Mesh(r1g,rcol);
r103.position.x = -fra*350;
rotateAroundWorldAxis(r103,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r103,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r103);


let r104 = new THREE.Mesh(r1g,rcol);
r104.position.x = -fra*400;
rotateAroundWorldAxis(r104,new THREE.Vector3(0,1,0), 5*Math.PI/6);
rotateAroundObjectAxis(r104,new THREE.Vector3(0,1,0), 5*Math.PI/6);
scene.add(r104);




let r105 = new THREE.Mesh(r3g,rcol);
r105.position.x = fra*144.33;
r105.position.y = fra*204.12;
rotateAroundWorldAxis(r105,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r105,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r105);

let r106 = new THREE.Mesh(r3g,rcol);
r106.position.x = fra*144.33*300/250;
r106.position.y = fra*204.12*300/250;
rotateAroundWorldAxis(r106,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r106,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r106);

let r107 = new THREE.Mesh(r3g,rcol);
r107.position.x = fra*144.33*350/250;
r107.position.y = fra*204.12*350/250;
rotateAroundWorldAxis(r107,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r107,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r107);

let r108 = new THREE.Mesh(r3g,rcol);
r108.position.x = fra*144.33*400/250;
r108.position.y = fra*204.12*400/250;
rotateAroundWorldAxis(r108,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r108,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r108);

let r109 = new THREE.Mesh(r3g,rcol);
r109.position.x = -fra*144.33;
r109.position.y = fra*204.12;
rotateAroundWorldAxis(r109,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r109,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r109);

let r110 = new THREE.Mesh(r3g,rcol);
r110.position.x = -fra*144.33*300/250;
r110.position.y = fra*204.12*300/250;
rotateAroundWorldAxis(r110,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r110,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r110);

let r111 = new THREE.Mesh(r3g,rcol);
r111.position.x = -fra*144.33*350/250;
r111.position.y = fra*204.12*350/250;
rotateAroundWorldAxis(r111,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r111,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r111);

let r112 = new THREE.Mesh(r3g,rcol);
r112.position.x = -fra*144.33*400/250;
r112.position.y = fra*204.12*400/250;
rotateAroundWorldAxis(r112,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r112,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r112);

let r113 = new THREE.Mesh(r3g,rcol);
r113.position.x = -fra*144.33;
r113.position.y = -fra*204.12;
rotateAroundWorldAxis(r113,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r113,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r113);

let r114 = new THREE.Mesh(r3g,rcol);
r114.position.x = -fra*144.33*300/250;
r114.position.y = -fra*204.12*300/250;
rotateAroundWorldAxis(r114,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r114,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r114);

let r115 = new THREE.Mesh(r3g,rcol);
r115.position.x = -fra*144.33*350/250;
r115.position.y = -fra*204.12*350/250;
rotateAroundWorldAxis(r115,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r115,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r115);

let r116 = new THREE.Mesh(r3g,rcol);
r116.position.x = -fra*144.33*400/250;
r116.position.y = -fra*204.12*400/250;
rotateAroundWorldAxis(r116,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r116,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r116);

let r117 = new THREE.Mesh(r3g,rcol);
r117.position.x = fra*144.33;
r117.position.y = -fra*204.12;
rotateAroundWorldAxis(r117,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r117,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r117);

let r118 = new THREE.Mesh(r3g,rcol);
r118.position.x = fra*144.33*300/250;
r118.position.y = -fra*204.12*300/250;
rotateAroundWorldAxis(r118,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r118,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r118);

let r119 = new THREE.Mesh(r3g,rcol);
r119.position.x = fra*144.33*350/250;
r119.position.y = -fra*204.12*350/250;
rotateAroundWorldAxis(r119,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r119,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r119);

let r120 = new THREE.Mesh(r3g,rcol);
r120.position.x = fra*144.33*400/250;
r120.position.y = -fra*204.12*400/250;
rotateAroundWorldAxis(r120,new THREE.Vector3(0,1,0),Math.PI/2);
rotateAroundObjectAxis(r120,new THREE.Vector3(0,1,0),Math.PI/2);
scene.add(r120);













	




function render() {
     renderer.render( scene, camera );
    }
	

function rotateAroundObjectAxis(object, axis, radians) {
    		let rm1 = new THREE.Matrix4();
    		rm1.makeRotationAxis(axis.normalize(), radians);
   		object.matrix.multiply(rm1);      // post-multiply
    		object.rotation.setFromRotationMatrix(object.matrix);

}

function rotateAroundWorldAxis(object, axis, angle) {
  var rotationMatrix = new THREE.Matrix4();
  rotationMatrix.makeRotationAxis( axis.normalize(), angle );
  var currentPos = new THREE.Vector4(object.position.x, object.position.y, object.position.z, 1);
  var newPos = currentPos.applyMatrix4(rotationMatrix);
  object.position.x = newPos.x;
  object.position.y = newPos.y;
  object.position.z = newPos.z;
}


function onWindowResize() {
            camera.aspect = container.clientHeight / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }




		function animate() {
    requestAnimationFrame(animate);
    


        mesh.rotation.y += fra2*w0;
	mesh2.rotation.y += fra2*w0;
	

	r1.rotation.y += -0.512*w0; 
	r2.rotation.y += -0.296*w0;
	r3.rotation.y += -0.186*w0;
	r4.rotation.y += -0.125*w0;


	r5.rotation.y += 0.5*0.512*w0;
	r6.rotation.y += 0.5*0.296*w0;
	r7.rotation.y += 0.5*0.186*w0;
	r8.rotation.y += 0.5*0.125*w0;

	r9.rotation.y += 0.5*0.512*w0;
	r10.rotation.y += 0.5*0.296*w0;
	r11.rotation.y += 0.5*0.186*w0;
	r12.rotation.y += 0.5*0.125*w0;

	r13.rotation.x += 0.707*0.512*w0;
	r14.rotation.x += 0.707*0.296*w0;
	r15.rotation.x += 0.707*0.186*w0;
	r16.rotation.x += 0.707*0.125*w0;
	
	r17.rotation.x += -0.707*0.512*w0;
	r18.rotation.x += -0.707*0.296*w0;
	r19.rotation.x += -0.707*0.186*w0;
	r20.rotation.x += -0.707*0.125*w0;


	r21.rotation.x += 0.707*0.512*w0;
	r22.rotation.x += 0.707*0.296*w0;
	r23.rotation.x += 0.707*0.186*w0;
	r24.rotation.x += 0.707*0.125*w0;

	r25.rotation.x += -0.707*0.512*w0;
	r26.rotation.x += -0.707*0.296*w0;
	r27.rotation.x += -0.707*0.186*w0;
	r28.rotation.x += -0.707*0.125*w0;

	r29.rotation.y += -0.512*w0; 
	r30.rotation.y += -0.296*w0;
	r31.rotation.y += -0.186*w0;
	r32.rotation.y += -0.125*w0;

	rotateAroundObjectAxis(r33,new THREE.Vector3(0,1,0),0.577*0.512*w0);
	rotateAroundObjectAxis(r34,new THREE.Vector3(0,1,0),0.577*0.296*w0);
	rotateAroundObjectAxis(r35,new THREE.Vector3(0,1,0),0.577*0.186*w0);
	rotateAroundObjectAxis(r36,new THREE.Vector3(0,1,0),0.577*0.125*w0);

	
	

	rotateAroundObjectAxis(r37,new THREE.Vector3(0,1,0),0.577*0.512*w0);
	rotateAroundObjectAxis(r38,new THREE.Vector3(0,1,0),0.577*0.296*w0);
	rotateAroundObjectAxis(r39,new THREE.Vector3(0,1,0),0.577*0.186*w0);
	rotateAroundObjectAxis(r40,new THREE.Vector3(0,1,0),0.577*0.125*w0);
	

	rotateAroundObjectAxis(r41,new THREE.Vector3(0,1,0),0.577*0.512*w0);
	rotateAroundObjectAxis(r42,new THREE.Vector3(0,1,0),0.577*0.296*w0);
	rotateAroundObjectAxis(r43,new THREE.Vector3(0,1,0),0.577*0.186*w0);
	rotateAroundObjectAxis(r44,new THREE.Vector3(0,1,0),0.577*0.125*w0);
	
	rotateAroundObjectAxis(r45,new THREE.Vector3(0,1,0),0.577*0.512*w0);
	rotateAroundObjectAxis(r46,new THREE.Vector3(0,1,0),0.577*0.296*w0);
	rotateAroundObjectAxis(r47,new THREE.Vector3(0,1,0),0.577*0.186*w0);
	rotateAroundObjectAxis(r48,new THREE.Vector3(0,1,0),0.577*0.125*w0);


	rotateAroundObjectAxis(r49,new THREE.Vector3(0,1,0),-0.577*0.512*w0);
	rotateAroundObjectAxis(r50,new THREE.Vector3(0,1,0),-0.577*0.296*w0);
	rotateAroundObjectAxis(r51,new THREE.Vector3(0,1,0),-0.577*0.186*w0);
	rotateAroundObjectAxis(r52,new THREE.Vector3(0,1,0),-0.577*0.125*w0);

	rotateAroundObjectAxis(r53,new THREE.Vector3(0,1,0),-0.577*0.512*w0);
	rotateAroundObjectAxis(r54,new THREE.Vector3(0,1,0),-0.577*0.296*w0);
	rotateAroundObjectAxis(r55,new THREE.Vector3(0,1,0),-0.577*0.186*w0);
	rotateAroundObjectAxis(r56,new THREE.Vector3(0,1,0),-0.577*0.125*w0);

	rotateAroundObjectAxis(r57,new THREE.Vector3(0,1,0),-0.577*0.512*w0);
	rotateAroundObjectAxis(r58,new THREE.Vector3(0,1,0),-0.577*0.296*w0);
	rotateAroundObjectAxis(r59,new THREE.Vector3(0,1,0),-0.577*0.186*w0);
	rotateAroundObjectAxis(r60,new THREE.Vector3(0,1,0),-0.577*0.125*w0);

	rotateAroundObjectAxis(r61,new THREE.Vector3(0,1,0),-0.577*0.512*w0);
	rotateAroundObjectAxis(r62,new THREE.Vector3(0,1,0),-0.577*0.296*w0);
	rotateAroundObjectAxis(r63,new THREE.Vector3(0,1,0),-0.577*0.186*w0);
	rotateAroundObjectAxis(r64,new THREE.Vector3(0,1,0),-0.577*0.125*w0);

	r65.rotation.y += -0.512*w0; 
	r66.rotation.y += -0.296*w0;
	r67.rotation.y += -0.186*w0;
	r68.rotation.y += -0.125*w0;

	r69.rotation.y += -0.512*w0; 
	r70.rotation.y += -0.296*w0;
	r71.rotation.y += -0.186*w0;
	r72.rotation.y += -0.125*w0;

	r73.rotation.y += -0.512*w0; 
	r74.rotation.y += -0.296*w0;
	r75.rotation.y += -0.186*w0;
	r76.rotation.y += -0.125*w0;

	r77.rotation.y += 0.512*w0; 
	r78.rotation.y += 0.296*w0;
	r79.rotation.y += 0.186*w0;
	r80.rotation.y += 0.125*w0;

	r81.rotation.y += 0.512*w0; 
	r82.rotation.y += 0.296*w0;
	r83.rotation.y += 0.186*w0;
	r84.rotation.y += 0.125*w0;

	r85.rotation.y += -0.512*w0; 
	r86.rotation.y += -0.296*w0;
	r87.rotation.y += -0.186*w0;
	r88.rotation.y += -0.125*w0;

	r89.rotation.y += -0.512*w0; 
	r90.rotation.y += -0.296*w0;
	r91.rotation.y += -0.186*w0;
	r92.rotation.y += -0.125*w0;

	r93.rotation.y += -0.512*w0; 
	r94.rotation.y += -0.296*w0;
	r95.rotation.y += -0.186*w0;
	r96.rotation.y += -0.125*w0;

	r97.rotation.y += 0.512*w0; 
	r98.rotation.y += 0.296*w0;
	r99.rotation.y += 0.186*w0;
	r100.rotation.y += 0.125*w0;

	r101.rotation.y += 0.512*w0; 
	r102.rotation.y += 0.296*w0;
	r103.rotation.y += 0.186*w0;
	r104.rotation.y += 0.125*w0; 


	rotateAroundObjectAxis(r105,new THREE.Vector3(1,0,0),0.707*0.512*w0);
	rotateAroundObjectAxis(r106,new THREE.Vector3(1,0,0),0.707*0.296*w0);
	rotateAroundObjectAxis(r107,new THREE.Vector3(1,0,0),0.707*0.186*w0);
	rotateAroundObjectAxis(r108,new THREE.Vector3(1,0,0),0.707*0.125*w0);

	rotateAroundObjectAxis(r109,new THREE.Vector3(1,0,0),-0.707*0.512*w0);
	rotateAroundObjectAxis(r110,new THREE.Vector3(1,0,0),-0.707*0.296*w0);
	rotateAroundObjectAxis(r111,new THREE.Vector3(1,0,0),-0.707*0.186*w0);
	rotateAroundObjectAxis(r112,new THREE.Vector3(1,0,0),-0.707*0.125*w0);

	rotateAroundObjectAxis(r113,new THREE.Vector3(1,0,0),0.707*0.512*w0);
	rotateAroundObjectAxis(r114,new THREE.Vector3(1,0,0),0.707*0.296*w0);
	rotateAroundObjectAxis(r115,new THREE.Vector3(1,0,0),0.707*0.186*w0);
	rotateAroundObjectAxis(r116,new THREE.Vector3(1,0,0),0.707*0.125*w0);

	rotateAroundObjectAxis(r117,new THREE.Vector3(1,0,0),-0.707*0.512*w0);
	rotateAroundObjectAxis(r118,new THREE.Vector3(1,0,0),-0.707*0.296*w0);
	rotateAroundObjectAxis(r119,new THREE.Vector3(1,0,0),-0.707*0.186*w0);
	rotateAroundObjectAxis(r120,new THREE.Vector3(1,0,0),-0.707*0.125*w0);


	controls.update();
	renderer.render(scene, camera);

		}



	
    animate();
    

    


};
</script>


</body>

</html>
